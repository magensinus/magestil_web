// Form

= form_with model: [parent, object], url: category_enrollments_path, class: "main col-960-1", local: true do |f|
  = f.hidden_field :academy_category_id, value: parent.id
  %fieldset.main-box.col-960-1-1
    .main-item.col-960-1-1
      %p= settings.enrollment_description
    .wrapper
      = f.collection_check_boxes :course_ids, courses, :id, :title, include_hidden: false do |tag|
        .main-item.col-960-2-1.w-col
          .checkbox.underline.left
            = tag.check_box(class: "left")
            = tag.label
    %hr.separator.medium
    .main-item.col-960-1-1
      %h3 Informação do Estudante
    .main-item.col-960-3-1
      = f.label "Nome"
      = f.text_field :name
    .main-item.col-960-3-1
      = f.label "Sobrenome"
      = f.text_field :surname
    .main-item.col-960-3-1
      = f.label "Data de Nascimento"
      = f.date_field :dob, as: :date, value: f.object.try(:strftime, "%m/%d/%Y"), max: Time.zone.today
    .main-item.col-960-2-1
      = f.label "Email"
      = f.text_field :email
    .main-item.col-960-2-1
      = f.label "Telefone"
      = f.text_field :phone
    %hr.separator.medium
    .main-item.col-960-1-1
      = f.label "Morada"
      = f.text_field :address_one
    / .main-item.col-960-2-1
    /   = f.label "Morada"
    /   = f.text_field :address_two
    .main-item.col-960-3-1
      = f.label "Código Postal"
      = f.text_field :postcode
    .main-item.col-960-3-1
      = f.label "Cidade"
      = f.text_field :city
    .main-item.col-960-3-1
      = f.label "País"
      = f.text_field :country
    %hr.separator.medium
    .main-item.col-960-1-1
      %h3 Informação do Encarregado de Educação
    .main-item.col-960-2-1
      = f.label "Nome"
      = f.text_field :secondary_name
    .main-item.col-960-2-1
      = f.label "Sobrenome"
      = f.text_field :secondary_surname
    .main-item.col-960-2-1
      = f.label "Email"
      = f.text_field :secondary_email
    .main-item.col-960-2-1
      = f.label "Telefone"
      = f.text_field :secondary_phone
    %hr.separator.medium
    .main-item.col-960-1-1
      .checkbox.underline.left
        = f.check_box :accept_terms, class: "left"
        = f.label :accept_terms, "Autorizo a utilização dos meus dados pessoais para fins de candidatura com vista a receber formação, não podendo os mesmos ser tratados posteriormente de uma forma incompatível com a finalidade aqui referida."
    %hr.separator.medium
    .wrapper
      .main-item.col-960-2-1
        = f.submit "Enviar", class: "button small green left"
